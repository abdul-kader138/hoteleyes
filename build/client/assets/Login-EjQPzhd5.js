import{w as u}from"./with-props-DTX1ldRb.js";import{r as h,l as e}from"./chunk-HA7DTUK3-Cn8qSWCH.js";import{o as f,s as m,u as w,a as j}from"./schemas-ssuNMdJ0.js";import{c as d,O as b}from"./index-CPtTDup7.js";import{F as y,a as v,b as N}from"./index-DVkn256j.js";import{L as s}from"./lang-mZGjBYwh.js";import{H as _}from"./helper-CR7ZVfzC.js";function P({}){return[{title:`${s.title} - ${s.login}`},{name:"description",content:`${s.welcome_fx} - ${s.login}`}]}const S=f({email:m().email(s.email_validation),password:m().min(1,s.password_required)}),A=u(function(){const{BASE_API:o}=new _,{register:i,handleSubmit:g,watch:n,setValue:l,formState:{errors:a,isSubmitting:c}}=w({resolver:j(S),defaultValues:{email:"",password:""}});h.useEffect(()=>{const t=sessionStorage.getItem("success_message");t&&(d.success(t,{duration:2e3}),sessionStorage.removeItem("success_message"))},[]);const x=async t=>{try{const r=await fetch(`${o}/auth/login`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),p=await r.json();if(!r.ok)throw new Error(p.message||s.invalid_email_password);sessionStorage.setItem("success_message",s.login_success),window.location.href="/dashboard"}catch(r){d.error(r.message||"Login failed")}};return e.jsxs("div",{className:"min-h-screen flex items-center justify-center px-2",children:[e.jsx(b,{position:"top-right"}),e.jsxs("div",{className:"bg-gray-800 min-w-md rounded-lg shadow-lg p-5 sm:p-5 lg:p-16",children:[e.jsx("div",{className:"text-center mb-8",children:e.jsx("a",{href:"/",children:e.jsx("img",{src:"/images/logos/logo.svg",alt:"Logo",className:"mx-auto h-10 w-auto"})})}),e.jsxs("form",{onSubmit:g(x),className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("input",{type:"text",placeholder:s.email_address,...i("email"),value:n("email"),onChange:t=>l("email",t.target.value),className:"w-full p-3 bg-gray-700 rounded-full text-sm text-white border border-gray-600 outline-none focus:border-[#D90479]"}),a.email&&e.jsx("p",{className:"text-red-500 px-2 py-1 text-sm",children:a.email.message})]}),e.jsxs("div",{children:[e.jsx("input",{type:"password",placeholder:s.password,...i("password"),value:n("password"),onChange:t=>l("password",t.target.value),className:"w-full p-3 bg-gray-700 rounded-full text-sm text-white border border-gray-600 outline-none focus:border-[#D90479]"}),a.password&&e.jsx("p",{className:"text-red-500 px-2 py-1 text-sm",children:a.password.message})]}),e.jsx("button",{type:"submit",disabled:c,className:"w-full py-3 cursor-pointer text-sm bg-pink-600 hover:scale-[1.05] transition-transform text-white font-semibold rounded-full flex items-center justify-center",children:c?e.jsx(y,{className:"animate-spin text-xl"}):"ðŸ”’ "+s.login}),e.jsx("div",{className:"text-center",children:e.jsxs("a",{href:"/forgot-password",className:"text-pink-500 hover:underline text-sm",children:[s.forgot_password,"?"]})}),e.jsxs("div",{className:"flex justify-center gap-3 mt-4",children:[e.jsx("a",{href:`${o}/auth/facebook`,title:"Login with Facebook",children:e.jsx(v,{className:"text-gray-300 text-xl hover:scale-110 transition"})}),e.jsx("a",{href:`${o}/auth/google`,title:"Login with Google",children:e.jsx(N,{className:"text-gray-300 text-xl hover:scale-110 transition"})})]}),e.jsxs("div",{className:"text-center text-sm text-gray-400 mt-6",children:[s.no_account," ",e.jsx("a",{href:"/registration",className:"text-pink-500 hover:underline",children:s.sign_up_now})]})]})]})]})});export{A as default,P as meta};
