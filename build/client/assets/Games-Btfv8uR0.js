import{w as ht}from"./with-props-DTX1ldRb.js";import{r as u,t as E,l as v}from"./chunk-HA7DTUK3-Cn8qSWCH.js";import{O as gt}from"./index-CPtTDup7.js";import{L as D}from"./lang-mZGjBYwh.js";import{H as Ve}from"./helper-CR7ZVfzC.js";import{a as k,K as se,L as re,M as Ke,a7 as vt,E as bt,j as Te,m as O,b as te,k as qe,l as xt,p as he,P as yt,q as wt,a8 as Ot,a9 as St,y as pe,n as Me,S as F,Y as Et,W as $t,Z as It,c as Rt,i as xe,U as Ct,aa as Tt,a6 as Lt,V as Mt,A as Nt,D as He,u as Pt,x as kt,G as jt,H as Dt,I as Ft,J as _t,B as At,C as Bt,o as Wt,_ as Ze,R as Ht,N as Ut,Q as zt,ab as Gt,F as Qt,r as Xt,t as Yt,v as ge,z as Vt,ac as Kt,ad as qt,$ as Zt,g as Jt,w as en,h as tn,e as I,a1 as nn,a2 as Ue,O as ze,f as on,a4 as sn,a5 as rn}from"./use-text-value-B-Rwy2l9.js";import{r as ee}from"./index-CmQbyfg6.js";import{m as ve}from"./proxy-DPKEhcvA.js";import"./floating-ui.dom-CV9eO6Wd.js";function an(e,n,t){let[o,i]=u.useState(t),s=e!==void 0,r=u.useRef(s),a=u.useRef(!1),d=u.useRef(!1);return s&&!r.current&&!a.current?(a.current=!0,r.current=s,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")):!s&&r.current&&!d.current&&(d.current=!0,r.current=s,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")),[s?e:o,k(c=>(s||i(c),n==null?void 0:n(c)))]}function ln(e){let[n]=u.useState(e);return n}function Je(e={},n=null,t=[]){for(let[o,i]of Object.entries(e))tt(t,et(n,o),i);return t}function et(e,n){return e?e+"["+n+"]":n}function tt(e,n,t){if(Array.isArray(t))for(let[o,i]of t.entries())tt(e,et(n,o.toString()),i);else t instanceof Date?e.push([n,t.toISOString()]):typeof t=="boolean"?e.push([n,t?"1":"0"]):typeof t=="string"?e.push([n,t]):typeof t=="number"?e.push([n,`${t}`]):t==null?e.push([n,""]):Je(t,n,e)}function cn(e){var n,t;let o=(n=e==null?void 0:e.form)!=null?n:e.closest("form");if(o){for(let i of o.elements)if(i!==e&&(i.tagName==="INPUT"&&i.type==="submit"||i.tagName==="BUTTON"&&i.type==="submit"||i.nodeName==="INPUT"&&i.type==="image")){i.click();return}(t=o.requestSubmit)==null||t.call(o)}}let dn="span";var je=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(je||{});function un(e,n){var t;let{features:o=1,...i}=e,s={ref:n,"aria-hidden":(o&2)===2?!0:(t=i["aria-hidden"])!=null?t:void 0,hidden:(o&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(o&4)===4&&(o&2)!==2&&{display:"none"}}};return re()({ourProps:s,theirProps:i,slot:{},defaultTag:dn,name:"Hidden"})}let nt=se(un),pn=u.createContext(null);function fn({children:e}){let n=u.useContext(pn);if(!n)return E.createElement(E.Fragment,null,e);let{target:t}=n;return t?ee.createPortal(E.createElement(E.Fragment,null,e),t):null}function mn({data:e,form:n,disabled:t,onReset:o,overrides:i}){let[s,r]=u.useState(null),a=Ke();return u.useEffect(()=>{if(o&&s)return a.addEventListener(s,"reset",o)},[s,n,o]),E.createElement(fn,null,E.createElement(hn,{setForm:r,formId:n}),Je(e).map(([d,c])=>E.createElement(nt,{features:je.Hidden,...vt({key:d,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:n,disabled:t,name:d,value:c,...i})})))}function hn({setForm:e,formId:n}){return u.useEffect(()=>{if(n){let t=document.getElementById(n);t&&e(t)}},[e,n]),n?null:E.createElement(nt,{features:je.Hidden,as:"input",type:"hidden",hidden:!0,readOnly:!0,ref:t=>{if(!t)return;let o=t.closest("form");o&&e(o)}})}function gn(e,n){return e!==null&&n!==null&&typeof e=="object"&&typeof n=="object"&&"id"in e&&"id"in n?e.id===n.id:e===n}function vn(e=gn){return u.useCallback((n,t)=>{if(typeof e=="string"){let o=e;return(n==null?void 0:n[o])===(t==null?void 0:t[o])}return e(n,t)},[e])}function bn(e,n){let[t,o]=u.useState(n);return!e&&t!==n&&o(n),e?t:n}var xn=Object.defineProperty,yn=(e,n,t)=>n in e?xn(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,Ge=(e,n,t)=>(yn(e,typeof n!="symbol"?n+"":n,t),t),$=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))($||{}),H=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(H||{}),Ne=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(Ne||{}),ot=(e=>(e[e.OpenListbox=0]="OpenListbox",e[e.CloseListbox=1]="CloseListbox",e[e.GoToOption=2]="GoToOption",e[e.Search=3]="Search",e[e.ClearSearch=4]="ClearSearch",e[e.RegisterOptions=5]="RegisterOptions",e[e.UnregisterOptions=6]="UnregisterOptions",e[e.SetButtonElement=7]="SetButtonElement",e[e.SetOptionsElement=8]="SetOptionsElement",e[e.SortOptions=9]="SortOptions",e))(ot||{});function Qe(e,n=t=>t){let t=e.activeOptionIndex!==null?e.options[e.activeOptionIndex]:null,o=yt(n(e.options.slice()),s=>s.dataRef.current.domRef.current),i=t?o.indexOf(t):null;return i===-1&&(i=null),{options:o,activeOptionIndex:i}}let wn={1(e){return e.dataRef.current.disabled||e.listboxState===1?e:{...e,activeOptionIndex:null,pendingFocus:{focus:O.Nothing},listboxState:1,__demoMode:!1}},0(e,n){if(e.dataRef.current.disabled||e.listboxState===0)return e;let t=e.activeOptionIndex,{isSelected:o}=e.dataRef.current,i=e.options.findIndex(s=>o(s.dataRef.current.value));return i!==-1&&(t=i),{...e,pendingFocus:n.focus,listboxState:0,activeOptionIndex:t,__demoMode:!1}},2(e,n){var t,o,i,s,r;if(e.dataRef.current.disabled||e.listboxState===1)return e;let a={...e,searchQuery:"",activationTrigger:(t=n.trigger)!=null?t:1,__demoMode:!1};if(n.focus===O.Nothing)return{...a,activeOptionIndex:null};if(n.focus===O.Specific)return{...a,activeOptionIndex:e.options.findIndex(p=>p.id===n.id)};if(n.focus===O.Previous){let p=e.activeOptionIndex;if(p!==null){let m=e.options[p].dataRef.current.domRef,f=he(n,{resolveItems:()=>e.options,resolveActiveIndex:()=>e.activeOptionIndex,resolveId:l=>l.id,resolveDisabled:l=>l.dataRef.current.disabled});if(f!==null){let l=e.options[f].dataRef.current.domRef;if(((o=m.current)==null?void 0:o.previousElementSibling)===l.current||((i=l.current)==null?void 0:i.previousElementSibling)===null)return{...a,activeOptionIndex:f}}}}else if(n.focus===O.Next){let p=e.activeOptionIndex;if(p!==null){let m=e.options[p].dataRef.current.domRef,f=he(n,{resolveItems:()=>e.options,resolveActiveIndex:()=>e.activeOptionIndex,resolveId:l=>l.id,resolveDisabled:l=>l.dataRef.current.disabled});if(f!==null){let l=e.options[f].dataRef.current.domRef;if(((s=m.current)==null?void 0:s.nextElementSibling)===l.current||((r=l.current)==null?void 0:r.nextElementSibling)===null)return{...a,activeOptionIndex:f}}}}let d=Qe(e),c=he(n,{resolveItems:()=>d.options,resolveActiveIndex:()=>d.activeOptionIndex,resolveId:p=>p.id,resolveDisabled:p=>p.dataRef.current.disabled});return{...a,...d,activeOptionIndex:c}},3:(e,n)=>{if(e.dataRef.current.disabled||e.listboxState===1)return e;let t=e.searchQuery!==""?0:1,o=e.searchQuery+n.value.toLowerCase(),i=(e.activeOptionIndex!==null?e.options.slice(e.activeOptionIndex+t).concat(e.options.slice(0,e.activeOptionIndex+t)):e.options).find(r=>{var a;return!r.dataRef.current.disabled&&((a=r.dataRef.current.textValue)==null?void 0:a.startsWith(o))}),s=i?e.options.indexOf(i):-1;return s===-1||s===e.activeOptionIndex?{...e,searchQuery:o}:{...e,searchQuery:o,activeOptionIndex:s,activationTrigger:1}},4(e){return e.dataRef.current.disabled||e.listboxState===1||e.searchQuery===""?e:{...e,searchQuery:""}},5:(e,n)=>{let t=e.options.concat(n.options),o=e.activeOptionIndex;if(e.pendingFocus.focus!==O.Nothing&&(o=he(e.pendingFocus,{resolveItems:()=>t,resolveActiveIndex:()=>e.activeOptionIndex,resolveId:i=>i.id,resolveDisabled:i=>i.dataRef.current.disabled})),e.activeOptionIndex===null){let{isSelected:i}=e.dataRef.current;if(i){let s=t.findIndex(r=>i==null?void 0:i(r.dataRef.current.value));s!==-1&&(o=s)}}return{...e,options:t,activeOptionIndex:o,pendingFocus:{focus:O.Nothing},pendingShouldSort:!0}},6:(e,n)=>{let t=e.options,o=[],i=new Set(n.options);for(let[s,r]of t.entries())if(i.has(r.id)&&(o.push(s),i.delete(r.id),i.size===0))break;if(o.length>0){t=t.slice();for(let s of o.reverse())t.splice(s,1)}return{...e,options:t,activationTrigger:1}},7:(e,n)=>e.buttonElement===n.element?e:{...e,buttonElement:n.element},8:(e,n)=>e.optionsElement===n.element?e:{...e,optionsElement:n.element},9:e=>e.pendingShouldSort?{...e,...Qe(e),pendingShouldSort:!1}:e};class De extends bt{constructor(n){super(n),Ge(this,"actions",{onChange:t=>{let{onChange:o,compare:i,mode:s,value:r}=this.state.dataRef.current;return te(s,{0:()=>o==null?void 0:o(t),1:()=>{let a=r.slice(),d=a.findIndex(c=>i(c,t));return d===-1?a.push(t):a.splice(d,1),o==null?void 0:o(a)}})},registerOption:Te(()=>{let t=[],o=new Set;return[(i,s)=>{o.has(s)||(o.add(s),t.push({id:i,dataRef:s}))},()=>(o.clear(),this.send({type:5,options:t.splice(0)}))]}),unregisterOption:Te(()=>{let t=[];return[o=>t.push(o),()=>{this.send({type:6,options:t.splice(0)})}]}),goToOption:Te(()=>{let t=null;return[(o,i)=>{t={type:2,...o,trigger:i}},()=>t&&this.send(t)]}),closeListbox:()=>{this.send({type:1})},openListbox:t=>{this.send({type:0,focus:t})},selectActiveOption:()=>{if(this.state.activeOptionIndex!==null){let{dataRef:t,id:o}=this.state.options[this.state.activeOptionIndex];this.actions.onChange(t.current.value),this.send({type:2,focus:O.Specific,id:o})}},selectOption:t=>{let o=this.state.options.find(i=>i.id===t);o&&this.actions.onChange(o.dataRef.current.value)},search:t=>{this.send({type:3,value:t})},clearSearch:()=>{this.send({type:4})},setButtonElement:t=>{this.send({type:7,element:t})},setOptionsElement:t=>{this.send({type:8,element:t})}}),Ge(this,"selectors",{activeDescendantId(t){var o;let i=t.activeOptionIndex,s=t.options;return i===null||(o=s[i])==null?void 0:o.id},isActive(t,o){var i;let s=t.activeOptionIndex,r=t.options;return s!==null?((i=r[s])==null?void 0:i.id)===o:!1},shouldScrollIntoView(t,o){return t.__demoMode||t.listboxState!==0||t.activationTrigger===0?!1:this.isActive(t,o)}}),this.on(5,()=>{requestAnimationFrame(()=>{this.send({type:9})})});{let t=this.state.id,o=qe.get(null);this.disposables.add(o.on(xt.Push,i=>{!o.selectors.isTop(i,t)&&this.state.listboxState===0&&this.actions.closeListbox()})),this.on(0,()=>o.actions.push(t)),this.on(1,()=>o.actions.pop(t))}}static new({id:n,__demoMode:t=!1}){return new De({id:n,dataRef:{current:{}},listboxState:t?0:1,options:[],searchQuery:"",activeOptionIndex:null,activationTrigger:1,buttonElement:null,optionsElement:null,pendingShouldSort:!1,pendingFocus:{focus:O.Nothing},__demoMode:t})}reduce(n,t){return te(t.type,wn,n,t)}}const it=u.createContext(null);function Fe(e){let n=u.useContext(it);if(n===null){let t=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,st),t}return n}function st({id:e,__demoMode:n=!1}){let t=u.useMemo(()=>De.new({id:e,__demoMode:n}),[]);return wt(()=>t.dispose()),t}let Oe=u.createContext(null);Oe.displayName="ListboxDataContext";function fe(e){let n=u.useContext(Oe);if(n===null){let t=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,fe),t}return n}let On=u.Fragment;function Sn(e,n){let t=u.useId(),o=St(),{value:i,defaultValue:s,form:r,name:a,onChange:d,by:c,invalid:p=!1,disabled:m=o||!1,horizontal:f=!1,multiple:l=!1,__demoMode:g=!1,...y}=e;const R=f?"horizontal":"vertical";let _=pe(n),w=ln(s),[S=l?[]:void 0,N]=an(i,d,w),C=st({id:t,__demoMode:g}),A=u.useRef({static:!1,hold:!1}),G=u.useRef(new Map),j=vn(c),Q=u.useCallback(P=>te(b.mode,{[H.Multi]:()=>S.some(ae=>j(ae,P)),[H.Single]:()=>j(S,P)}),[S]),b=u.useMemo(()=>({value:S,disabled:m,invalid:p,mode:l?H.Multi:H.Single,orientation:R,onChange:N,compare:j,isSelected:Q,optionsPropsRef:A,listRef:G}),[S,m,p,l,R,N,j,Q,A,G]);Me(()=>{C.state.dataRef.current=b},[b]);let T=F(C,P=>P.listboxState),Y=qe.get(null),V=F(Y,u.useCallback(P=>Y.selectors.isTop(P,t),[Y,t])),[B,x]=F(C,P=>[P.buttonElement,P.optionsElement]);Et(V,[B,x],(P,ae)=>{C.send({type:ot.CloseListbox}),sn(ae,rn.Loose)||(P.preventDefault(),B==null||B.focus())});let U=u.useMemo(()=>({open:T===$.Open,disabled:m,invalid:p,value:S}),[T,m,p,S]),[Ee,$e]=$t({inherit:!0}),Ie={ref:_},me=u.useCallback(()=>{if(w!==void 0)return N==null?void 0:N(w)},[N,w]),Re=re();return E.createElement($e,{value:Ee,props:{htmlFor:B==null?void 0:B.id},slot:{open:T===$.Open,disabled:m}},E.createElement(It,null,E.createElement(it.Provider,{value:C},E.createElement(Oe.Provider,{value:b},E.createElement(Rt,{value:te(T,{[$.Open]:xe.Open,[$.Closed]:xe.Closed})},a!=null&&S!=null&&E.createElement(mn,{disabled:m,data:{[a]:S},form:r,onReset:me}),Re({ourProps:Ie,theirProps:y,slot:U,defaultTag:On,name:"Listbox"}))))))}let En="button";function $n(e,n){let t=u.useId(),o=Gt(),i=fe("Listbox.Button"),s=Fe("Listbox.Button"),{id:r=o||`headlessui-listbox-button-${t}`,disabled:a=i.disabled||!1,autoFocus:d=!1,...c}=e,p=pe(n,Qt(),s.actions.setButtonElement),m=Xt(),[f,l,g]=F(s,x=>[x.listboxState,x.buttonElement,x.optionsElement]),y=f===$.Open;Yt(y,{trigger:l,action:u.useCallback(x=>{if(l!=null&&l.contains(x.target))return ge.Ignore;let U=x.target.closest('[role="option"]:not([data-disabled])');return Vt(U)?ge.Select(U):g!=null&&g.contains(x.target)?ge.Ignore:ge.Close},[l,g]),close:s.actions.closeListbox,select:s.actions.selectActiveOption});let R=k(x=>{switch(x.key){case I.Enter:cn(x.currentTarget);break;case I.Space:case I.ArrowDown:x.preventDefault(),s.actions.openListbox({focus:i.value?O.Nothing:O.First});break;case I.ArrowUp:x.preventDefault(),s.actions.openListbox({focus:i.value?O.Nothing:O.Last});break}}),_=k(x=>{switch(x.key){case I.Space:x.preventDefault();break}}),w=k(x=>{var U;if(x.button===0){if(on(x.currentTarget))return x.preventDefault();s.state.listboxState===$.Open?(ee.flushSync(()=>s.actions.closeListbox()),(U=s.state.buttonElement)==null||U.focus({preventScroll:!0})):(x.preventDefault(),s.actions.openListbox({focus:O.Nothing}))}}),S=k(x=>x.preventDefault()),N=Kt([r]),C=qt(),{isFocusVisible:A,focusProps:G}=Zt({autoFocus:d}),{isHovered:j,hoverProps:Q}=Jt({isDisabled:a}),{pressed:b,pressProps:T}=en({disabled:a}),Y=u.useMemo(()=>({open:f===$.Open,active:b||f===$.Open,disabled:a,invalid:i.invalid,value:i.value,hover:j,focus:A,autofocus:d}),[f,i.value,a,j,A,b,i.invalid,d]),V=F(s,x=>x.listboxState===$.Open),B=Ze(m(),{ref:p,id:r,type:tn(e,l),"aria-haspopup":"listbox","aria-controls":g==null?void 0:g.id,"aria-expanded":V,"aria-labelledby":N,"aria-describedby":C,disabled:a||void 0,autoFocus:d,onKeyDown:R,onKeyUp:_,onKeyPress:S,onPointerDown:w},G,Q,T);return re()({ourProps:B,theirProps:c,slot:Y,defaultTag:En,name:"Listbox.Button"})}let rt=u.createContext(!1),In="div",Rn=ze.RenderStrategy|ze.Static;function Cn(e,n){let t=u.useId(),{id:o=`headlessui-listbox-options-${t}`,anchor:i,portal:s=!1,modal:r=!0,transition:a=!1,...d}=e,c=Nt(i),[p,m]=u.useState(null);c&&(s=!0);let f=fe("Listbox.Options"),l=Fe("Listbox.Options"),[g,y,R,_]=F(l,h=>[h.listboxState,h.buttonElement,h.optionsElement,h.__demoMode]),w=He(y),S=He(R),N=Pt(),[C,A]=kt(a,p,N!==null?(N&xe.Open)===xe.Open:g===$.Open);jt(C,y,l.actions.closeListbox);let G=_?!1:r&&g===$.Open;Dt(G,S);let j=_?!1:r&&g===$.Open;Ft(j,{allowed:u.useCallback(()=>[y,R],[y,R])});let Q=g!==$.Open,b=_t(Q,y)?!1:C,T=C&&g===$.Closed,Y=bn(T,f.value),V=k(h=>f.compare(Y,h)),B=F(l,h=>{var L;if(c==null||!((L=c==null?void 0:c.to)!=null&&L.includes("selection")))return null;let Z=h.options.findIndex(Ce=>V(Ce.dataRef.current.value));return Z===-1&&(Z=0),Z}),x=(()=>{if(c==null)return;if(B===null)return{...c,inner:void 0};let h=Array.from(f.listRef.current.values());return{...c,inner:{listRef:{current:h},index:B}}})(),[U,Ee]=At(x),$e=Bt(),Ie=pe(n,c?U:null,l.actions.setOptionsElement,m),me=Ke();u.useEffect(()=>{var h;let L=R;L&&g===$.Open&&L!==((h=Wt(L))==null?void 0:h.activeElement)&&(L==null||L.focus({preventScroll:!0}))},[g,R]);let Re=k(h=>{var L,Z;switch(me.dispose(),h.key){case I.Space:if(l.state.searchQuery!=="")return h.preventDefault(),h.stopPropagation(),l.actions.search(h.key);case I.Enter:if(h.preventDefault(),h.stopPropagation(),l.state.activeOptionIndex!==null){let{dataRef:Ce}=l.state.options[l.state.activeOptionIndex];l.actions.onChange(Ce.current.value)}f.mode===H.Single&&(ee.flushSync(()=>l.actions.closeListbox()),(L=l.state.buttonElement)==null||L.focus({preventScroll:!0}));break;case te(f.orientation,{vertical:I.ArrowDown,horizontal:I.ArrowRight}):return h.preventDefault(),h.stopPropagation(),l.actions.goToOption({focus:O.Next});case te(f.orientation,{vertical:I.ArrowUp,horizontal:I.ArrowLeft}):return h.preventDefault(),h.stopPropagation(),l.actions.goToOption({focus:O.Previous});case I.Home:case I.PageUp:return h.preventDefault(),h.stopPropagation(),l.actions.goToOption({focus:O.First});case I.End:case I.PageDown:return h.preventDefault(),h.stopPropagation(),l.actions.goToOption({focus:O.Last});case I.Escape:h.preventDefault(),h.stopPropagation(),ee.flushSync(()=>l.actions.closeListbox()),(Z=l.state.buttonElement)==null||Z.focus({preventScroll:!0});return;case I.Tab:h.preventDefault(),h.stopPropagation(),ee.flushSync(()=>l.actions.closeListbox()),nn(l.state.buttonElement,h.shiftKey?Ue.Previous:Ue.Next);break;default:h.key.length===1&&(l.actions.search(h.key),me.setTimeout(()=>l.actions.clearSearch(),350));break}}),P=F(l,h=>{var L;return(L=h.buttonElement)==null?void 0:L.id}),ae=u.useMemo(()=>({open:g===$.Open}),[g]),pt=Ze(c?$e():{},{id:o,ref:Ie,"aria-activedescendant":F(l,l.selectors.activeDescendantId),"aria-multiselectable":f.mode===H.Multi?!0:void 0,"aria-labelledby":P,"aria-orientation":f.orientation,onKeyDown:Re,role:"listbox",tabIndex:g===$.Open?0:void 0,style:{...d.style,...Ee,"--button-width":Ut(y,!0).width},...Ht(A)}),ft=re(),mt=u.useMemo(()=>f.mode===H.Multi?f:{...f,isSelected:V},[f,V]);return E.createElement(zt,{enabled:s?e.static||C:!1,ownerDocument:w},E.createElement(Oe.Provider,{value:mt},ft({ourProps:pt,theirProps:d,slot:ae,defaultTag:In,features:Rn,visible:b,name:"Listbox.Options"})))}let Tn="div";function Ln(e,n){let t=u.useId(),{id:o=`headlessui-listbox-option-${t}`,disabled:i=!1,value:s,...r}=e,a=u.useContext(rt)===!0,d=fe("Listbox.Option"),c=Fe("Listbox.Option"),p=F(c,b=>c.selectors.isActive(b,o)),m=d.isSelected(s),f=u.useRef(null),l=Ct(f),g=Tt({disabled:i,value:s,domRef:f,get textValue(){return l()}}),y=pe(n,f,b=>{b?d.listRef.current.set(o,b):d.listRef.current.delete(o)}),R=F(c,b=>c.selectors.shouldScrollIntoView(b,o));Me(()=>{if(R)return Lt().requestAnimationFrame(()=>{var b,T;(T=(b=f.current)==null?void 0:b.scrollIntoView)==null||T.call(b,{block:"nearest"})})},[R,f]),Me(()=>{if(!a)return c.actions.registerOption(o,g),()=>c.actions.unregisterOption(o)},[g,o,a]);let _=k(b=>{var T;if(i)return b.preventDefault();c.actions.onChange(s),d.mode===H.Single&&(ee.flushSync(()=>c.actions.closeListbox()),(T=c.state.buttonElement)==null||T.focus({preventScroll:!0}))}),w=k(()=>{if(i)return c.actions.goToOption({focus:O.Nothing});c.actions.goToOption({focus:O.Specific,id:o})}),S=Mt(),N=k(b=>{S.update(b),!i&&(p||c.actions.goToOption({focus:O.Specific,id:o},Ne.Pointer))}),C=k(b=>{S.wasMoved(b)&&(i||p||c.actions.goToOption({focus:O.Specific,id:o},Ne.Pointer))}),A=k(b=>{S.wasMoved(b)&&(i||p&&c.actions.goToOption({focus:O.Nothing}))}),G=u.useMemo(()=>({active:p,focus:p,selected:m,disabled:i,selectedOption:m&&a}),[p,m,i,a]),j=a?{}:{id:o,ref:y,role:"option",tabIndex:i===!0?void 0:-1,"aria-disabled":i===!0?!0:void 0,"aria-selected":m,disabled:void 0,onClick:_,onFocus:w,onPointerEnter:N,onMouseEnter:N,onPointerMove:C,onMouseMove:C,onPointerLeave:A,onMouseLeave:A},Q=re();return!m&&a?null:Q({ourProps:j,theirProps:r,slot:G,defaultTag:Tn,name:"Listbox.Option"})}let Mn=u.Fragment;function Nn(e,n){let{options:t,placeholder:o,...i}=e,s={ref:pe(n)},r=fe("ListboxSelectedOption"),a=u.useMemo(()=>({}),[]),d=r.value===void 0||r.value===null||r.mode===H.Multi&&Array.isArray(r.value)&&r.value.length===0,c=re();return E.createElement(rt.Provider,{value:!0},c({ourProps:s,theirProps:{...i,children:E.createElement(E.Fragment,null,o&&d?o:t)},slot:a,defaultTag:Mn,name:"ListboxSelectedOption"}))}let Pn=se(Sn),kn=se($n),jn=Ot,Dn=se(Cn),Fn=se(Ln),_n=se(Nn),le=Object.assign(Pn,{Button:kn,Label:jn,Options:Dn,Option:Fn,SelectedOption:_n});const at=new Set,M=new WeakMap,ne=new WeakMap,K=new WeakMap,Pe=new WeakMap,An=new WeakMap,oe=new WeakMap,ye=new WeakMap,ce=new WeakSet;let X,_e=0,Ae=0;const z="__aa_tgt",de="__aa_del",we="__aa_new",Bn=e=>{const n=Qn(e);n&&n.forEach(t=>Xn(t))},Wn=e=>{e.forEach(n=>{n.target===X&&Un(),M.has(n.target)&&q(n.target)})};function Hn(e){const n=Pe.get(e);n==null||n.disconnect();let t=M.get(e),o=0;const i=5;t||(t=ie(e),M.set(e,t));const{offsetWidth:s,offsetHeight:r}=X,d=[t.top-i,s-(t.left+i+t.width),r-(t.top+i+t.height),t.left-i].map(p=>`${-1*Math.floor(p)}px`).join(" "),c=new IntersectionObserver(()=>{++o>1&&q(e)},{root:X,threshold:1,rootMargin:d});c.observe(e),Pe.set(e,c)}function q(e){clearTimeout(ye.get(e));const n=Se(e),t=ue(n)?500:n.duration;ye.set(e,setTimeout(async()=>{const o=K.get(e);try{await(o==null?void 0:o.finished),M.set(e,ie(e)),Hn(e)}catch{}},t))}function Un(){clearTimeout(ye.get(X)),ye.set(X,setTimeout(()=>{at.forEach(e=>ut(e,n=>lt(()=>q(n))))},100))}function zn(e){setTimeout(()=>{An.set(e,setInterval(()=>lt(q.bind(null,e)),2e3))},Math.round(2e3*Math.random()))}function lt(e){typeof requestIdleCallback=="function"?requestIdleCallback(()=>e()):requestAnimationFrame(()=>e())}let ke,J;const Gn=typeof window<"u"&&"ResizeObserver"in window;Gn&&(X=document.documentElement,ke=new MutationObserver(Bn),J=new ResizeObserver(Wn),window.addEventListener("scroll",()=>{Ae=window.scrollY,_e=window.scrollX}),J.observe(X));function Qn(e){return e.reduce((o,i)=>[...o,...Array.from(i.addedNodes),...Array.from(i.removedNodes)],[]).every(o=>o.nodeName==="#comment")?!1:e.reduce((o,i)=>{if(o===!1)return!1;if(i.target instanceof Element){if(Le(i.target),!o.has(i.target)){o.add(i.target);for(let s=0;s<i.target.children.length;s++){const r=i.target.children.item(s);if(r){if(de in r)return!1;Le(i.target,r),o.add(r)}}}if(i.removedNodes.length)for(let s=0;s<i.removedNodes.length;s++){const r=i.removedNodes[s];if(de in r)return!1;r instanceof Element&&(o.add(r),Le(i.target,r),ne.set(r,[i.previousSibling,i.nextSibling]))}}return o},new Set)}function Le(e,n){!n&&!(z in e)?Object.defineProperty(e,z,{value:e}):n&&!(z in n)&&Object.defineProperty(n,z,{value:e})}function Xn(e){var n;const t=e.isConnected,o=M.has(e);t&&ne.has(e)&&ne.delete(e),K.has(e)&&((n=K.get(e))===null||n===void 0||n.cancel()),we in e?Xe(e):o&&t?Vn(e):o&&!t?Kn(e):Xe(e)}function W(e){return Number(e.replace(/[^0-9.\-]/g,""))}function Yn(e){let n=e.parentElement;for(;n;){if(n.scrollLeft||n.scrollTop)return{x:n.scrollLeft,y:n.scrollTop};n=n.parentElement}return{x:0,y:0}}function ie(e){const n=e.getBoundingClientRect(),{x:t,y:o}=Yn(e);return{top:n.top+o,left:n.left+t,width:n.width,height:n.height}}function ct(e,n,t){let o=n.width,i=n.height,s=t.width,r=t.height;const a=getComputedStyle(e);if(a.getPropertyValue("box-sizing")==="content-box"){const c=W(a.paddingTop)+W(a.paddingBottom)+W(a.borderTopWidth)+W(a.borderBottomWidth),p=W(a.paddingLeft)+W(a.paddingRight)+W(a.borderRightWidth)+W(a.borderLeftWidth);o-=p,s-=p,i-=c,r-=c}return[o,s,i,r].map(Math.round)}function Se(e){return z in e&&oe.has(e[z])?oe.get(e[z]):{duration:250,easing:"ease-in-out"}}function dt(e){if(z in e)return e[z]}function Be(e){const n=dt(e);return n?ce.has(n):!1}function ut(e,...n){n.forEach(t=>t(e,oe.has(e)));for(let t=0;t<e.children.length;t++){const o=e.children.item(t);o&&n.forEach(i=>i(o,oe.has(o)))}}function We(e){return Array.isArray(e)?e:[e]}function ue(e){return typeof e=="function"}function Vn(e){const n=M.get(e),t=ie(e);if(!Be(e))return M.set(e,t);let o;if(!n)return;const i=Se(e);if(typeof i!="function"){const s=n.left-t.left,r=n.top-t.top,[a,d,c,p]=ct(e,n,t),m={transform:`translate(${s}px, ${r}px)`},f={transform:"translate(0, 0)"};a!==d&&(m.width=`${a}px`,f.width=`${d}px`),c!==p&&(m.height=`${c}px`,f.height=`${p}px`),o=e.animate([m,f],{duration:i.duration,easing:i.easing})}else{const[s]=We(i(e,"remain",n,t));o=new Animation(s),o.play()}K.set(e,o),M.set(e,t),o.addEventListener("finish",q.bind(null,e))}function Xe(e){we in e&&delete e[we];const n=ie(e);M.set(e,n);const t=Se(e);if(!Be(e))return;let o;if(typeof t!="function")o=e.animate([{transform:"scale(.98)",opacity:0},{transform:"scale(0.98)",opacity:0,offset:.5},{transform:"scale(1)",opacity:1}],{duration:t.duration*1.5,easing:"ease-in"});else{const[i]=We(t(e,"add",n));o=new Animation(i),o.play()}K.set(e,o),o.addEventListener("finish",q.bind(null,e))}function Ye(e,n){var t;e.remove(),M.delete(e),ne.delete(e),K.delete(e),(t=Pe.get(e))===null||t===void 0||t.disconnect(),setTimeout(()=>{if(de in e&&delete e[de],Object.defineProperty(e,we,{value:!0,configurable:!0}),n&&e instanceof HTMLElement)for(const o in n)e.style[o]=""},0)}function Kn(e){var n;if(!ne.has(e)||!M.has(e))return;const[t,o]=ne.get(e);Object.defineProperty(e,de,{value:!0,configurable:!0});const i=window.scrollX,s=window.scrollY;if(o&&o.parentNode&&o.parentNode instanceof Element?o.parentNode.insertBefore(e,o):t&&t.parentNode?t.parentNode.appendChild(e):(n=dt(e))===null||n===void 0||n.appendChild(e),!Be(e))return Ye(e);const[r,a,d,c]=Zn(e),p=Se(e),m=M.get(e);(i!==_e||s!==Ae)&&qn(e,i,s,p);let f,l={position:"absolute",top:`${r}px`,left:`${a}px`,width:`${d}px`,height:`${c}px`,margin:"0",pointerEvents:"none",transformOrigin:"center",zIndex:"100"};if(!ue(p))Object.assign(e.style,l),f=e.animate([{transform:"scale(1)",opacity:1},{transform:"scale(.98)",opacity:0}],{duration:p.duration,easing:"ease-out"});else{const[g,y]=We(p(e,"remove",m));(y==null?void 0:y.styleReset)!==!1&&(l=(y==null?void 0:y.styleReset)||l,Object.assign(e.style,l)),f=new Animation(g),f.play()}K.set(e,f),f.addEventListener("finish",Ye.bind(null,e,l))}function qn(e,n,t,o){const i=_e-n,s=Ae-t,r=document.documentElement.style.scrollBehavior;if(getComputedStyle(X).scrollBehavior==="smooth"&&(document.documentElement.style.scrollBehavior="auto"),window.scrollTo(window.scrollX+i,window.scrollY+s),!e.parentElement)return;const d=e.parentElement;let c=d.clientHeight,p=d.clientWidth;const m=performance.now();function f(){requestAnimationFrame(()=>{if(!ue(o)){const l=c-d.clientHeight,g=p-d.clientWidth;m+o.duration>performance.now()?(window.scrollTo({left:window.scrollX-g,top:window.scrollY-l}),c=d.clientHeight,p=d.clientWidth,f()):document.documentElement.style.scrollBehavior=r}})}f()}function Zn(e){const n=M.get(e),[t,,o]=ct(e,n,ie(e));let i=e.parentElement;for(;i&&(getComputedStyle(i).position==="static"||i instanceof HTMLBodyElement);)i=i.parentElement;i||(i=document.body);const s=getComputedStyle(i),r=M.get(i)||ie(i),a=Math.round(n.top-r.top)-W(s.borderTopWidth),d=Math.round(n.left-r.left)-W(s.borderLeftWidth);return[a,d,t,o]}function Jn(e,n={}){return ke&&J&&(window.matchMedia("(prefers-reduced-motion: reduce)").matches&&!ue(n)&&!n.disrespectUserMotionPreference||(ce.add(e),getComputedStyle(e).position==="static"&&Object.assign(e.style,{position:"relative"}),ut(e,q,zn,i=>J==null?void 0:J.observe(i)),ue(n)?oe.set(e,n):oe.set(e,{duration:250,easing:"ease-in-out",...n}),ke.observe(e,{childList:!0}),at.add(e))),Object.freeze({parent:e,enable:()=>{ce.add(e)},disable:()=>{ce.delete(e)},isEnabled:()=>ce.has(e)})}function eo({title:e,titleId:n,...t},o){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":n},t),e?u.createElement("title",{id:n},e):null,u.createElement("path",{fillRule:"evenodd",d:"M10.53 3.47a.75.75 0 0 0-1.06 0L6.22 6.72a.75.75 0 0 0 1.06 1.06L10 5.06l2.72 2.72a.75.75 0 1 0 1.06-1.06l-3.25-3.25Zm-4.31 9.81 3.25 3.25a.75.75 0 0 0 1.06 0l3.25-3.25a.75.75 0 1 0-1.06-1.06L10 14.94l-2.72-2.72a.75.75 0 0 0-1.06 1.06Z",clipRule:"evenodd"}))}const to=u.forwardRef(eo);function be({label:e,value:n,options:t,onChange:o}){const i=typeof t[0]=="object",s=()=>{if(n==="")return e;if(!i)return n;const r=t.find(a=>a.value===n);return(r==null?void 0:r.label)||n};return v.jsx(le,{value:n,onChange:o,children:v.jsxs("div",{className:"relative",children:[v.jsxs(le.Button,{className:"relative w-40 cursor-pointer rounded bg-gray-800 py-2 pl-3 pr-10 text-left text-white focus:outline-none focus:ring-2 focus:ring-[#D90479]",children:[v.jsx("span",{className:"block truncate",children:s()}),v.jsx("span",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-2",children:v.jsx(to,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"})})]}),v.jsxs(le.Options,{className:"absolute z-10 mt-1 max-h-60 w-full overflow-auto rounded bg-gray-900 py-1 text-white shadow-lg ring-1 ring-black/10 focus:outline-none",children:[v.jsx(le.Option,{value:"",className:({active:r})=>`cursor-pointer select-none px-4 py-2 ${r?"bg-[#D90479]":""}`,children:e}),t.map(r=>{const a=typeof r=="string"?r:r.value,d=typeof r=="string"?r:r.label;return v.jsx(le.Option,{value:a,className:({active:c})=>`cursor-pointer select-none px-4 py-2 ${c?"bg-[#D90479]":""}`,children:d},a)})]})]})})}function no({searchTerm:e,setSearchTerm:n,featureFilter:t,setFeatureFilter:o,typeFilter:i,setTypeFilter:s,categoryFilter:r,setCategoryFilter:a,sortOption:d,setSortOption:c}){const{gamesFilterData:p}=new Ve;return v.jsxs("div",{className:"flex flex-wrap justify-between items-center mb-6 gap-4",children:[v.jsx("input",{type:"text",placeholder:D.search_game,value:e,onChange:m=>n(m.target.value),className:"p-2 rounded bg-gray-800 text-white w-full sm:w-1/4 outline-none focus:ring-2 focus:ring-[#D90479]"}),v.jsxs("div",{className:"flex gap-2 flex-wrap",children:[v.jsx(be,{label:D.features,value:t,options:p.features,onChange:o}),v.jsx(be,{label:D.game_type,value:i,options:p.types,onChange:s}),v.jsx(be,{label:D.categories,value:r,options:p.categories,onChange:a}),v.jsx(be,{label:D.sort_by,value:d,options:p.sortOptions,onChange:c})]})]})}function oo({games:e,visibleCount:n,loadMore:t,parentRef:o}){const i=e.slice(0,n),s="/images/games/mock.png",r=["/images/products/other-section/dragon.png","/images/products/other-section/golden.png","/images/products/other-section/cheers.png","/images/products/other-section/book.png","/images/products/other-section/wonder.png","/images/products/other-section/pirates.png"],a={};r.forEach(l=>a[l]=0);const d=[...r].sort(()=>.5-Math.random()),c=[...r].sort(()=>.5-Math.random()),p={};let m=0,f=0;return i.forEach(l=>{let g=s;if(m<d.length)g=d[m],a[g]++,m++;else if(f<c.length){const y=c[f];a[y]<2&&(g=y,a[y]++,f++)}p[l.id]=g}),v.jsxs(v.Fragment,{children:[v.jsx("div",{ref:o,className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4",children:i.map((l,g)=>{const y=p[l.id];return v.jsxs(ve.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.4,delay:g*.05},className:"bg-gray-400/10 rounded-xl p-6 shadow-lg border border-white/10 hover:border-pink-500 hover:scale-105 transition duration-300",children:[v.jsx("div",{className:"relative h-60 w-full overflow-hidden rounded-xl bg-center bg-cover shadow-md",style:{backgroundImage:`url('${y}')`},children:v.jsx("div",{className:"absolute inset-0 bg-opacity-40"})}),v.jsx(ve.p,{className:"text-white text-center py-2 font-bold text-base tracking-wide drop-shadow-lg",initial:{opacity:0,scale:.95,y:10},animate:{opacity:1,scale:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{scale:1.05,textShadow:"0px 0px 8px rgba(255, 255, 255, 0.8)"},children:l.name}),v.jsx(ve.p,{className:"text-white text-center py-2 font-bold text-base tracking-wide drop-shadow-lg",children:v.jsx("a",{href:`/game/${l.id}`,className:"mt-2 bg-gradient-to-r from-pink-600 to-purple-600 text-white px-1 lg:px-3 md:px-3 sm:px-1 py-1 rounded-md hover:scale-105 transition",children:D.game_info})})]},l.id)})}),n<e.length&&v.jsx("div",{className:"text-center mt-6",children:v.jsx(ve.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:t,className:"bg-gradient-to-r from-pink-600 to-purple-600 px-5 py-2 rounded cursor-pointer transition",children:D.load_more})})]})}function mo({}){return[{title:D.title+" - "+D.games},{name:"description",content:D.welcome_fx+" - "+D.games}]}const ho=ht(function(){const[n,t]=u.useState(12),[o,i]=u.useState(""),[s,r]=u.useState(""),[a,d]=u.useState(""),[c,p]=u.useState(""),[m,f]=u.useState(""),l=u.useRef(null);u.useEffect(()=>{l.current&&Jn(l.current)},[l]);const{mockGameList:g,gamesFilterData:y}=new Ve,R=g.filter(w=>w.name.toLowerCase().includes(o.toLowerCase())).filter(w=>s?w.feature===s:!0).filter(w=>a?w.type===a:!0).filter(w=>c?w.category===c:!0).sort((w,S)=>m==="name-asc"?w.name.localeCompare(S.name):m==="name-desc"?S.name.localeCompare(w.name):0);R.slice(0,n);const _=()=>{t(w=>w+12)};return v.jsx(v.Fragment,{children:v.jsxs("div",{className:"min-h-screen px-10 box text-white py-10",children:[v.jsx(gt,{position:"top-right"}),v.jsx(no,{searchTerm:o,setSearchTerm:i,featureFilter:s,setFeatureFilter:r,typeFilter:a,setTypeFilter:d,categoryFilter:c,setCategoryFilter:p,setSortOption:f,sortOption:m}),v.jsx(oo,{games:R,visibleCount:n,loadMore:_,parentRef:l})]})})});export{ho as default,mo as meta};
