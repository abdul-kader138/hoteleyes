import{w as u}from"./with-props-DTX1ldRb.js";import{r as g,l as e}from"./chunk-HA7DTUK3-Cn8qSWCH.js";import{o as h,s as n,u as f,a as N}from"./schemas-ssuNMdJ0.js";import{O as b,V as w}from"./index-CPtTDup7.js";import{F as j,a as y,b as v}from"./index-DVkn256j.js";import{L as a}from"./lang-mZGjBYwh.js";import{H as _}from"./helper-CR7ZVfzC.js";const S=h({firstName:n().min(2,a.first_name_validation),lastName:n().min(2,a.last_name_validation),email:n().email(a.email_validation),password:n().min(6,a.password_validation)}),G=u(function(){const{BASE_API:m}=new _,[F,k]=g.useState([]),{register:r,handleSubmit:d,control:L,setValue:o,watch:i,formState:{errors:t,isSubmitting:c}}=f({resolver:N(S),defaultValues:{firstName:"",lastName:"",email:"",password:""}}),p=async s=>{try{const l=await fetch(`${m}/auth/register`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({first_name:s.firstName,last_name:s.lastName,email:s.email,password:s.password})}),x=await l.json();if(!l.ok)throw new Error(x.message||"Registration failed");sessionStorage.setItem("success_message",a.data_saved),window.location.href="/login"}catch(l){w.error(l.message)}};return e.jsxs("div",{className:"min-h-screen flex items-center justify-center px-2",children:[e.jsx(b,{position:"top-right"}),e.jsxs("div",{className:"bg-gray-800 min-w-md rounded-lg shadow-lg p-5 sm:p-5 lg:p-16",children:[e.jsx("div",{className:"text-center mb-6",children:e.jsx("a",{href:"/",children:e.jsx("img",{src:"/images/logos/logo.svg",alt:"Logo",className:"mx-auto h-9 w-auto"})})}),e.jsxs("form",{onSubmit:d(p),className:"space-y-5",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("input",{type:"text",placeholder:a.first_name,...r("firstName"),value:i("firstName"),onChange:s=>o("firstName",s.target.value),className:"w-full p-3 bg-gray-700 rounded-full text-sm text-white border border-gray-600 outline-none focus:border-[#D90479]"}),t.firstName&&e.jsx("p",{className:"text-red-500 px-2 py-0.5 text-sm",children:t.firstName.message})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("input",{type:"text",placeholder:a.last_name,...r("lastName"),value:i("lastName"),onChange:s=>o("lastName",s.target.value),className:"w-full p-3 bg-gray-700 text-white text-sm rounded-full outline-none border border-gray-600 focus:border-[#D90479]"}),t.lastName&&e.jsx("p",{className:"text-red-500 px-2 py-0.5 text-sm",children:t.lastName.message})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("input",{type:"text",placeholder:a.email,...r("email"),value:i("email"),onChange:s=>o("email",s.target.value),className:"w-full p-3 bg-gray-700 text-white text-sm rounded-full outline-none border border-gray-600 focus:border-[#D90479]"}),t.email&&e.jsx("p",{className:"text-red-500 px-2 py-0.5 text-sm",children:t.email.message})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("input",{type:"password",placeholder:a.password,...r("password"),value:i("password"),onChange:s=>o("password",s.target.value),className:"w-full p-3 bg-gray-700 text-white text-sm rounded-full outline-none border border-gray-600 focus:border-[#D90479]"}),t.password&&e.jsx("p",{className:"text-red-500 px-2 py-0.5 text-sm",children:t.password.message})]}),e.jsx("button",{type:"submit",disabled:c,className:"w-full py-3 text-sm bg-pink-600 hover:scale-[1.05] text-white font-semibold rounded-full cursor-pointer mb-6 flex items-center justify-center",children:c?e.jsx(j,{className:"animate-spin text-xl"}):a.sign_up_image})]}),e.jsxs("div",{className:"flex justify-center gap-4 mb-6",children:[e.jsx("a",{href:`${m}/auth/facebook`,title:"Login with Facebook",children:e.jsx(y,{className:"text-gray-300 text-xl cursor-pointer hover:scale-110 transition"})}),e.jsx("a",{href:`${m}/auth/google`,title:"Login with Google",children:e.jsx(v,{className:"text-gray-300 text-xl cursor-pointer hover:scale-110 transition"})})]}),e.jsx("div",{className:"text-center mt-4",children:e.jsxs("p",{className:"text-gray-400 text-sm",children:[a.already_account+" ",e.jsx("a",{href:"/login",className:"text-pink-500 hover:underline",children:a.login})]})})]})]})});export{G as default};
